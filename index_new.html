<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>#include</title>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="Slider_new.css">  
  </head>

  <body>
    <!-- Swiper -->
    <div class="swiper mySwiper">
        <div class="navbartag" style="background-color: rgb(79, 79, 255);color: white;">Navbar</div>
        <div class="swipe mySwipe">
            <div class="swiper-wrapper">
                <div class="front swiper-slide" id="front" ><img src="images/img1.jpeg"></div>
                <div class="front swiper-slide" id="front"><img src="images/img2.jpeg"></div>
                <div class="front swiper-slide" id="front"><img src="images/img3.jpeg"></div>
                <div class="front swiper-slide" id="front"><img src="images/img4.jpeg"></div>
                <div class="front swiper-slide" id="front"><img src="images/img5.jpeg"></div>
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-pagination"></div>
          </div>

      <div class="swiper-wrapper">
        <div class="swiper-slide" id="back" style="background: black"><img style="opacity: 0.2" src="images/img1.jpeg"></div>
        <div class="swiper-slide" id="back" style="background: black"><img style="opacity: 0.2" src="images/img2.jpeg"></div>
        <div class="swiper-slide" id="back" style="background: black"><img style="opacity: 0.2" src="images/img3.jpeg"></div>
        <div class="swiper-slide" id="back" style="background: black"><img style="opacity: 0.2" src="images/img4.jpeg"></div>
        <div class="swiper-slide" id="back" style="background: black"><img style="opacity: 0.2" src="images/img5.jpeg"></div>
      </div>
      
      
    </div>


    <div class="TotalImages">
      <div class="wrapper">
          <div class="gallery">
                  <div class="image"><span><img src="images/img1.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img2.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img3.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img4.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img5.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img6.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img7.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img8.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img9.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img10.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img11.jpeg" alt=""></span></div>
                  <div class="image"><span><img src="images/img12.jpeg" alt=""></span></div>
                  
          </div>
      </div>
  </div>
  <div class="preview-box">
      <div class="details">
        <span class="title"><p class="current-img"></p>/<p class="total-img"></p></span>
        <span class="icon fas fa-times"></span>
      </div>
      <div class="image-box">
        <div class="slide prev"><i class="fas fa-angle-left"></i></div>
        <div class="slide next"><i class="fas fa-angle-right"></i></div>
        <img src="" alt="">
      </div>
  </div>
  <div class="shadow"></div>

    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="js/vanilla-tilt.js"></script>
    <!-- Initialize Swiper -->
    <script>
      const gallery  = document.querySelectorAll(".image"),
previewBox = document.querySelector(".preview-box"),
previewImg = previewBox.querySelector("img"),
closeIcon = previewBox.querySelector(".icon"),
currentImg = previewBox.querySelector(".current-img"),
totalImg = previewBox.querySelector(".total-img"),
shadow = document.querySelector(".shadow");

window.onload = ()=>
{
    var repeater = ()=>{
        setTimeout(function(){
            rightbtn(); 
            repeater(); 
        },3000);   
    }
    repeater();

    for (let i = 0; i < gallery.length; i++) {
        totalImg.textContent = gallery.length; 
        let newIndex = i; 
        let clickedImgIndex; 
        
        gallery[i].onclick = () =>{
            clickedImgIndex = i; 
            function preview(){
                currentImg.textContent = newIndex + 1; 
                let imageURL = gallery[newIndex].querySelector("img").src; 
                previewImg.src = imageURL; 
            }
            preview(); 
    
            const prevBtn = document.querySelector(".prev");
            const nextBtn = document.querySelector(".next");
            if(newIndex == 0){ 
                prevBtn.style.display = "none"; 
            }
            if(newIndex >= gallery.length - 1){ 
                nextBtn.style.display = "none"; 
            }
            prevBtn.onclick = ()=>{ 
                newIndex--; 
                if(newIndex == 0){
                    preview(); 
                    prevBtn.style.display = "none"; 
                }else{
                    preview();
                    nextBtn.style.display = "block";
                } 
            }
            nextBtn.onclick = ()=>{ 
                newIndex++; 
                if(newIndex >= gallery.length - 1){
                    preview(); 
                    nextBtn.style.display = "none";
                }else{
                    preview(); 
                    prevBtn.style.display = "block";
                }
            }
            document.querySelector("body").style.overflow = "hidden";
            previewBox.classList.add("show"); 
            shadow.style.display = "block"; 
            closeIcon.onclick = ()=>{
                newIndex = clickedImgIndex; 
                prevBtn.style.display = "block"; 
                nextBtn.style.display = "block";
                previewBox.classList.remove("show");
                shadow.style.display = "none";
                document.querySelector("body").style.overflow = "scroll";
            }
        }
        
    } 
}
      var swiper = new Swiper(".mySwipe", {
        spaceBetween: 30,
        centeredSlides: true,
        autoplay: {
          delay: 5000,
          disableOnInteraction: false,
        },
        speed: 1000,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
      var swiper = new Swiper(".mySwiper", {
        spaceBetween: 30,
        centeredSlides: true,
        autoplay: {
          delay: 5000,
          disableOnInteraction: false,
        },
        speed: 1000,
        effect: "fade" ,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
      VanillaTilt.init(document.querySelectorAll("#front"),{
                max: 15,
                speed:400,
                glare: true,
                 "max-glare": 0.1
            });
      

    </script>
  </body>
</html>